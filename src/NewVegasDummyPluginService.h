#ifndef NEWVEGASDUMMYPLUGINSERVICE_H
#define NEWVEGASDUMMYPLUGINSERVICE_H

#include "bsapacker_global.h"
#include <bsapacker/IDummyPluginLogic.h>
#include <bsapacker/IDummyPluginService.h>
#include <bsapacker/IFileWriterService.h>

namespace BsaPacker
{
	class BSAPACKER_EXPORT NewVegasDummyPluginService : public IDummyPluginService
	{
	public:
		NewVegasDummyPluginService(const IFileWriterService* fileWriterService,
								   const IDummyPluginLogic* dummyPluginLogic);
		~NewVegasDummyPluginService() override = default;
		bool CreatePlugin(const QString& modPath,
						  const QString& archiveNameBase) const override;

		static constexpr unsigned char RAW_NEWVEGAS[] = {
			0x54, 0x45, 0x53, 0x34, 0x42, 0x00, 0x00, 0x00,
			0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
			0x00, 0x00, 0x00, 0x00, 0x0F, 0x00, 0x00, 0x00,
			0x48, 0x45, 0x44, 0x52, 0x0C, 0x00, 0x1F, 0x85,
			0xAB, 0x3F, 0x00, 0x00, 0x00, 0x00, 0xDD, 0x0A,
			0x00, 0x00, 0x43, 0x4E, 0x41, 0x4D, 0x08, 0x00,
			0x44, 0x45, 0x46, 0x41, 0x55, 0x4C, 0x54, 0x00,
			0x4D, 0x41, 0x53, 0x54, 0x0E, 0x00, 0x46, 0x61,
			0x6C, 0x6C, 0x6F, 0x75, 0x74, 0x4E, 0x56, 0x2E,
			0x65, 0x73, 0x6D, 0x00, 0x44, 0x41, 0x54, 0x41,
			0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
			0x00, 0x00
		};

	private:
		const IFileWriterService* m_FileWriterService = nullptr;
		const IDummyPluginLogic* m_DummyPluginLogic = nullptr;
	};
}


#endif // NEWVEGASDUMMYPLUGINSERVICE_H
